<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B Sakan - ุฅุฏุงุฑุฉ ูุตุฑููุงุช ุงูุนูุงุฑุงุช</title>
    
    <!-- PWA Meta Tags -->
    <meta name="application-name" content="B Sakan">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="B Sakan">
    <meta name="description" content="ุจุฑูุงูุฌ ูุชูุงูู ูุฅุฏุงุฑุฉ ุงูุนูุงุฑุงุช ูุงููุตุฑููุงุช">
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="msapplication-TileColor" content="#3b82f6">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="theme-color" content="#3b82f6">

    <!-- Icons -->
    <link rel="icon" type="image/png" href="assets/icons/icon-72x72.png">
    <link rel="apple-touch-icon" href="assets/icons/icon-192x192.png">

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- External Resources -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap');
        
        * {
            font-family: 'Tajawal', sans-serif;
        }
        
        .space-x-reverse > :not([hidden]) ~ :not([hidden]) {
            --tw-space-x-reverse: 1;
        }
        
        @media print {
            .no-print {
                display: none !important;
            }
        }
        
        .receipt-border {
            border: 2px solid #000;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="app" class="app-container">
        <!-- Header -->
        <header class="bg-white shadow-sm sticky top-0 z-40">
            <div class="max-w-7xl mx-auto px-4 py-4">
                <div class="flex justify-between items-center flex-col md:flex-row gap-4">
                    <div class="text-center md:text-right">
                        <h1 class="text-2xl font-bold text-gray-800">ุจุฑูุงูุฌ B Sakan ูุฅุฏุงุฑุฉ ูุตุฑููุงุช ุงูุนูุงุฑุงุช</h1>
                        <p class="text-gray-600" id="current-building">ุนูุงุฑุฉ ุงูุณุงูู 12</p>
                    </div>
                    <div class="flex space-x-3 space-x-reverse flex-wrap justify-center gap-2">
                        <button id="add-building-btn" class="bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors">
                            <i class="fas fa-building mr-1"></i> ุฅุถุงูุฉ ุนูุงุฑุฉ
                        </button>
                        <button id="add-owner-btn" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                            <i class="fas fa-user-plus mr-1"></i> ุฅุถุงูุฉ ูุงูู
                        </button>
                        <button id="add-payment-btn" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors">
                            <i class="fas fa-money-bill-wave mr-1"></i> ุฅุถุงูุฉ ุฏูุนุฉ
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="max-w-7xl mx-auto px-4 py-6">
            <!-- Statistics Cards -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                <div class="bg-blue-50 rounded-lg p-4 shadow-sm">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-gray-600 text-sm">ุงูุฑุตูุฏ ุงููุนูู</p>
                            <p class="text-blue-600 text-2xl font-bold">181 ุฏ.ู</p>
                        </div>
                        <span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full">+5%</span>
                    </div>
                </div>
                <div class="bg-green-50 rounded-lg p-4 shadow-sm">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-gray-600 text-sm">ุงูุฏูุนุงุช</p>
                            <p class="text-green-600 text-2xl font-bold">0 ุฏ.ู</p>
                        </div>
                        <span class="bg-gray-100 text-gray-800 text-xs font-medium px-2 py-1 rounded-full">0%</span>
                    </div>
                </div>
                <div class="bg-red-50 rounded-lg p-4 shadow-sm">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-gray-600 text-sm">ุงููุณุญูุจุงุช</p>
                            <p class="text-red-600 text-2xl font-bold">5 ุฏ.ู</p>
                        </div>
                        <span class="bg-red-100 text-red-800 text-xs font-medium px-2 py-1 rounded-full">-2%</span>
                    </div>
                </div>
                <div class="bg-purple-50 rounded-lg p-4 shadow-sm">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-gray-600 text-sm">ุนุฏุฏ ุงูุชูุตูู</p>
                            <p class="text-purple-600 text-2xl font-bold">10</p>
                        </div>
                        <span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full">+15%</span>
                    </div>
                </div>
            </div>
            
            <!-- Filter Section -->
            <div class="bg-white rounded-lg shadow-sm p-4 mb-6">
                <div class="flex justify-between items-center flex-col md:flex-row gap-4">
                    <button class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors w-full md:w-auto">
                        ุชุตููุฉ ุงูุญุณุงุจ ุงูุดูุฑู
                    </button>
                    <div class="flex space-x-2 space-x-reverse w-full md:w-auto justify-center">
                        <button class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors">
                            ุญุณุงุจุงุช ุงู (5)
                        </button>
                        <button class="bg-gray-100 text-gray-600 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors">
                            ุฌููุน ุงูุนูููุงุช
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Delivery/Payment List -->
            <div class="bg-white rounded-lg shadow-sm overflow-hidden">
                <!-- Transaction 1 -->
                <div class="bg-blue-50 p-4 border-b border-gray-200">
                    <div class="flex justify-between items-center flex-col md:flex-row gap-4">
                        <div class="flex items-center space-x-4 space-x-reverse">
                            <input type="checkbox" class="h-4 w-4 text-blue-600 rounded">
                            <div class="flex flex-col">
                                <span class="font-semibold text-gray-800">ูุญูุฏ ุฃุญูุฏ</span>
                                <span class="text-sm text-gray-600">2025-10-16 - 10:30 ุต</span>
                                <span class="text-xs text-gray-500">ACC-001</span>
                            </div>
                        </div>
                        
                        <div class="flex items-center space-x-4 space-x-reverse flex-wrap justify-center gap-2">
                            <span class="bg-red-100 text-red-800 px-3 py-1 rounded-full text-xs font-medium">
                                ุนูููุงุช ุณุงุจูุฉ
                            </span>
                            <span class="bg-green-100 text-green-800 px-3 py-1 rounded-lg font-semibold">
                                19 ุฏ.ู
                            </span>
                            <button class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm share-btn" data-id="1">
                                <i class="fab fa-whatsapp mr-1"></i> ูุดุงุฑูุฉ ุนุจุฑ ูุงุชุณุงุจ
                            </button>
                            <button class="text-gray-500 hover:text-gray-700">
                                <i class="fas fa-ellipsis-v"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Transaction 2 -->
                <div class="bg-green-50 p-4 border-b border-gray-200">
                    <div class="flex justify-between items-center flex-col md:flex-row gap-4">
                        <div class="flex items-center space-x-4 space-x-reverse">
                            <input type="checkbox" class="h-4 w-4 text-blue-600 rounded">
                            <div class="flex flex-col">
                                <span class="font-semibold text-gray-800">ูุงุทูุฉ ูุญูุฏ</span>
                                <span class="text-sm text-gray-600">2025-10-15 - 02:15 ู</span>
                                <span class="text-xs text-gray-500">ACC-002</span>
                            </div>
                        </div>
                        
                        <div class="flex items-center space-x-4 space-x-reverse flex-wrap justify-center gap-2">
                            <span class="bg-red-100 text-red-800 px-3 py-1 rounded-full text-xs font-medium">
                                ุนูููุงุช ุณุงุจูุฉ
                            </span>
                            <span class="bg-green-100 text-green-800 px-3 py-1 rounded-lg font-semibold">
                                12 ุฏ.ู
                            </span>
                            <button class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm share-btn" data-id="2">
                                <i class="fab fa-whatsapp mr-1"></i> ูุดุงุฑูุฉ ุนุจุฑ ูุงุชุณุงุจ
                            </button>
                            <button class="text-gray-500 hover:text-gray-700">
                                <i class="fas fa-ellipsis-v"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Transaction 3 -->
                <div class="bg-pink-50 p-4 border-b border-gray-200">
                    <div class="flex justify-between items-center flex-col md:flex-row gap-4">
                        <div class="flex items-center space-x-4 space-x-reverse">
                            <input type="checkbox" class="h-4 w-4 text-blue-600 rounded">
                            <div class="flex flex-col">
                                <span class="font-semibold text-gray-800">ุฃุญูุฏ ุนูู</span>
                                <span class="text-sm text-gray-600">2025-10-14 - 09:45 ุต</span>
                                <span class="text-xs text-gray-500">ACC-003</span>
                            </div>
                        </div>
                        
                        <div class="flex items-center space-x-4 space-x-reverse flex-wrap justify-center gap-2">
                            <span class="bg-red-100 text-red-800 px-3 py-1 rounded-full text-xs font-medium">
                                ุนูููุงุช ุณุงุจูุฉ
                            </span>
                            <span class="bg-green-100 text-green-800 px-3 py-1 rounded-lg font-semibold">
                                15 ุฏ.ู
                            </span>
                            <button class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm share-btn" data-id="3">
                                <i class="fab fa-whatsapp mr-1"></i> ูุดุงุฑูุฉ ุนุจุฑ ูุงุชุณุงุจ
                            </button>
                            <button class="text-gray-500 hover:text-gray-700">
                                <i class="fas fa-ellipsis-v"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Transaction 4 -->
                <div class="bg-yellow-50 p-4">
                    <div class="flex justify-between items-center flex-col md:flex-row gap-4">
                        <div class="flex items-center space-x-4 space-x-reverse">
                            <input type="checkbox" class="h-4 w-4 text-blue-600 rounded">
                            <div class="flex flex-col">
                                <span class="font-semibold text-gray-800">ุณุงุฑุฉ ุฎุงูุฏ</span>
                                <span class="text-sm text-gray-600">2025-10-13 - 04:20 ู</span>
                                <span class="text-xs text-gray-500">ACC-004</span>
                            </div>
                        </div>
                        
                        <div class="flex items-center space-x-4 space-x-reverse flex-wrap justify-center gap-2">
                            <span class="bg-red-100 text-red-800 px-3 py-1 rounded-full text-xs font-medium">
                                ุนูููุงุช ุณุงุจูุฉ
                            </span>
                            <span class="bg-green-100 text-green-800 px-3 py-1 rounded-lg font-semibold">
                                22 ุฏ.ู
                            </span>
                            <button class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm share-btn" data-id="4">
                                <i class="fab fa-whatsapp mr-1"></i> ูุดุงุฑูุฉ ุนุจุฑ ูุงุชุณุงุจ
                            </button>
                            <button class="text-gray-500 hover:text-gray-700">
                                <i class="fas fa-ellipsis-v"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="bg-gray-800 text-white py-8 mt-8">
            <div class="max-w-7xl mx-auto px-4">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <div>
                        <h3 class="text-lg font-semibold mb-4">ุนู ุงูุจุฑูุงูุฌ</h3>
                        <p class="text-gray-300">ุจุฑูุงูุฌ B Sakan ูุฅุฏุงุฑุฉ ุงูุนูุงุฑุงุช ูุงููุตุฑููุงุช</p>
                        <p class="text-gray-300 mt-2">ุดุฑูุฉ B Ventures LLC</p>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold mb-4">ุฑูุงุจุท ุณุฑูุนุฉ</h3>
                        <ul class="space-y-2 text-gray-300">
                            <li><a href="#" class="hover:text-white transition-colors">ุงูุฏุนู ุงูููู</a></li>
                            <li><a href="#" class="hover:text-white transition-colors">ุงูุดุฑูุท ูุงูุฃุญูุงู</a></li>
                            <li><a href="#" class="hover:text-white transition-colors">ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ</a></li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold mb-4">ุงุชุตู ุจูุง</h3>
                        <ul class="space-y-2 text-gray-300">
                            <li><i class="fas fa-envelope mr-2"></i> info@bsakan.com</li>
                            <li><i class="fas fa-phone mr-2"></i> +218-91-123-4567</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold mb-4">ุชุงุจุนูุง</h3>
                        <div class="flex space-x-4 space-x-reverse">
                            <a href="#" class="text-gray-300 hover:text-white transition-colors"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" class="text-gray-300 hover:text-white transition-colors"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="text-gray-300 hover:text-white transition-colors"><i class="fab fa-instagram"></i></a>
                        </div>
                    </div>
                </div>
                <div class="border-t border-gray-700 mt-8 pt-4 text-center text-gray-400">
                    <p>ยฉ 2025 ุจุฑูุงูุฌ B Sakan. ุฌููุน ุงูุญููู ูุญููุธุฉ. ุดุฑูุฉ B Ventures LLC</p>
                </div>
            </div>
        </footer>
    </div>

    <!-- Add Building Modal -->
    <div id="add-building-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white rounded-lg w-full max-w-md">
            <div class="p-6">
                <h2 class="text-xl font-bold text-gray-800 mb-2">ุฅุถุงูุฉ ุนูุงุฑุฉ ุฌุฏูุฏุฉ</h2>
                <p class="text-gray-600 mb-6">ุฃุฏุฎู ุชูุงุตูู ุงูุนูุงุฑุฉ ุงูุฌุฏูุฏุฉ</p>
                
                <form id="add-building-form" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">
                            ุงุณู ุงูุนูุงุฑุฉ *
                        </label>
                        <input
                            type="text"
                            name="buildingName"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                            placeholder="ุฃุฏุฎู ุงุณู ุงูุนูุงุฑุฉ"
                            required
                        />
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">
                            ุงูุนููุงู
                        </label>
                        <input
                            type="text"
                            name="buildingAddress"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                            placeholder="ุฃุฏุฎู ุนููุงู ุงูุนูุงุฑุฉ"
                        />
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">
                            ุนุฏุฏ ุงููุญุฏุงุช
                        </label>
                        <input
                            type="number"
                            name="unitsCount"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                            placeholder="ุนุฏุฏ ุงููุญุฏุงุช ุงูุณูููุฉ"
                        />
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">
                            ููุงุญุธุงุช (ุงุฎุชูุงุฑู)
                        </label>
                        <textarea
                            name="notes"
                            rows="3"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                            placeholder="ุฃู ููุงุญุธุงุช ุฅุถุงููุฉ..."
                        ></textarea>
                    </div>
                    
                    <div class="flex space-x-3 space-x-reverse pt-4">
                        <button
                            type="submit"
                            class="flex-1 bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700 transition-colors"
                        >
                            ุฅุถุงูุฉ ุงูุนูุงุฑุฉ
                        </button>
                        <button
                            type="button"
                            id="cancel-building-btn"
                            class="flex-1 bg-gray-200 text-gray-800 py-2 rounded-lg hover:bg-gray-300 transition-colors"
                        >
                            ุฅูุบุงุก
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add Owner Modal -->
    <div id="add-owner-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white rounded-lg w-full max-w-md">
            <div class="p-6">
                <h2 class="text-xl font-bold text-gray-800 mb-2">ุฅุถุงูุฉ ูุงูู ุฌุฏูุฏ</h2>
                <p class="text-gray-600 mb-6">ุฃุฏุฎู ุชูุงุตูู ูุงูู ุงูุดูุฉ ุงูุฌุฏูุฏ</p>
                
                <form id="add-owner-form" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">
                            ุงุณู ุงููุงูู *
                        </label>
                        <input
                            type="text"
                            name="name"
                            class="w-full px-3 py-2 border border-green-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                            placeholder="ุฃุฏุฎู ุงุณู ุงููุงูู"
                            required
                        />
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">
                            ุฑูู ุงููุงุชู
                        </label>
                        <input
                            type="tel"
                            name="phone"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                            placeholder="0791234567"
                        />
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">
                                ุฑูู ุงูุดูุฉ
                            </label>
                            <input
                                type="text"
                                name="apartmentNumber"
                                value="1"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                            />
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">
                                ุงูุทุงุจู
                            </label>
                            <input
                                type="text"
                                name="floor"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                                placeholder="ุงูุฃูู"
                            />
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">
                            ุงุชุฌุงู ุงูุดูุฉ
                        </label>
                        <select
                            name="direction"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        >
                            <option value="">ุงุฎุชุฑ ุงุชุฌุงู ุงูุดูุฉ</option>
                            <option value="north">ุดูุงู</option>
                            <option value="south">ุฌููุจ</option>
                            <option value="east">ุดุฑู</option>
                            <option value="west">ุบุฑุจ</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">
                            ุงูุงุดุชุฑุงู ุงูุดูุฑู (ุฏ.ู)
                        </label>
                        <input
                            type="number"
                            name="subscription"
                            value="100.00"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                            step="0.01"
                        />
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">
                            ููุงุญุธุงุช (ุงุฎุชูุงุฑู)
                        </label>
                        <textarea
                            name="notes"
                            rows="3"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                            placeholder="ุฃู ููุงุญุธุงุช ุฅุถุงููุฉ..."
                        ></textarea>
                    </div>
                    
                    <div class="flex space-x-3 space-x-reverse pt-4">
                        <button
                            type="submit"
                            class="flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors"
                        >
                            ุฅุถุงูุฉ ุงููุงูู
                        </button>
                        <button
                            type="button"
                            id="cancel-owner-btn"
                            class="flex-1 bg-gray-200 text-gray-800 py-2 rounded-lg hover:bg-gray-300 transition-colors"
                        >
                            ุฅูุบุงุก
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add Payment Modal -->
    <div id="add-payment-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto">
            <div class="p-6">
                <h2 class="text-xl font-bold text-gray-800 mb-2">ุฅุถุงูุฉ ุฏูุนุฉ ุฌุฏูุฏุฉ</h2>
                <p class="text-gray-600 mb-6">ุฃุฏุฎู ุชูุงุตูู ุงูุฏูุนุฉ ุงูุฌุฏูุฏุฉ ุณูุงุก ูุงูุช ูุงุฑุฏุงุช ุฃู ูุตุฑููุงุช</p>
                
                <form id="add-payment-form" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">
                            ููุน ุงูุฏูุนุฉ
                        </label>
                        <select
                            name="type"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        >
                            <option value="income">ูุงุฑุฏุงุช</option>
                            <option value="expense">ูุตุฑููุงุช</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">
                            ุงููุจูุบ (ุฏ.ู)
                        </label>
                        <input
                            type="number"
                            name="amount"
                            value="0.00"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                            step="0.01"
                        />
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">
                            ูุตู ุงูุฏูุนุฉ
                        </label>
                        <input
                            type="text"
                            name="description"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                            placeholder="ูุซุงูุงู: ุงุดุชุฑุงู ุดูุฉ ุฑูู 1 ุฃู ุฃุฌุฑุฉ ุณุจุงู"
                        />
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">
                            ูุงูู ุงูุดูุฉ *
                        </label>
                        <select
                            name="owner"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                            required
                        >
                            <option value="">ุงุฎุชุฑ ูุงูู ุงูุดูุฉ</option>
                            <option value="owner1">ูุญูุฏ ุฃุญูุฏ - ุดูุฉ 1</option>
                            <option value="owner2">ูุงุทูุฉ ูุญูุฏ - ุดูุฉ 2</option>
                            <option value="owner3">ุฃุญูุฏ ุนูู - ุดูุฉ 3</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">
                            ุชุงุฑูุฎ ุงูุฏูุนุฉ
                        </label>
                        <input
                            type="date"
                            name="date"
                            value="2025-10-16"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        />
                    </div>
                    
                    <div class="flex items-center space-x-2 space-x-reverse">
                        <input
                            type="checkbox"
                            name="advancePayment"
                            checked
                            class="h-4 w-4 text-blue-600 rounded"
                            id="advance-payment-checkbox"
                        />
                        <label for="advance-payment-checkbox" class="text-sm font-medium text-gray-700">
                            ุฏูุนุฉ ููุฏูุฉ ูุนุฏุฉ ุดููุฑ
                        </label>
                    </div>
                    
                    <div id="months-selection" class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm font-medium text-gray-700 mb-2">ุงุฎุชุฑ ุงูุดููุฑ ุงููุฏููุนุฉ</p>
                        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2">
                            <button type="button" class="month-btn bg-green-600 text-white px-3 py-2 rounded-lg text-sm font-medium" data-month="ููุงูุฑ">
                                ููุงูุฑ ร
                            </button>
                            <button type="button" class="month-btn bg-green-600 text-white px-3 py-2 rounded-lg text-sm font-medium" data-month="ูุจุฑุงูุฑ">
                                ูุจุฑุงูุฑ ร
                            </button>
                            <button type="button" class="month-btn bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-300" data-month="ูุงุฑุณ">
                                ูุงุฑุณ
                            </button>
                            <button type="button" class="month-btn bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-300" data-month="ุฃุจุฑูู">
                                ุฃุจุฑูู
                            </button>
                            <button type="button" class="month-btn bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-300" data-month="ูุงูู">
                                ูุงูู
                            </button>
                            <button type="button" class="month-btn bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-300" data-month="ููููู">
                                ููููู
                            </button>
                            <button type="button" class="month-btn bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-300" data-month="ููููู">
                                ููููู
                            </button>
                            <button type="button" class="month-btn bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-300" data-month="ุฃุบุณุทุณ">
                                ุฃุบุณุทุณ
                            </button>
                            <button type="button" class="month-btn bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-300" data-month="ุณุจุชูุจุฑ">
                                ุณุจุชูุจุฑ
                            </button>
                            <button type="button" class="month-btn bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-300" data-month="ุฃูุชูุจุฑ">
                                ุฃูุชูุจุฑ
                            </button>
                            <button type="button" class="month-btn bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-300" data-month="ููููุจุฑ">
                                ููููุจุฑ
                            </button>
                            <button type="button" class="month-btn bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-300" data-month="ุฏูุณูุจุฑ">
                                ุฏูุณูุจุฑ
                            </button>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">
                            ููุงุญุธุงุช (ุงุฎุชูุงุฑู)
                        </label>
                        <textarea
                            name="notes"
                            rows="3"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                            placeholder="ุฃู ููุงุญุธุงุช ุฅุถุงููุฉ..."
                        ></textarea>
                    </div>
                    
                    <div class="flex space-x-3 space-x-reverse pt-4">
                        <button
                            type="submit"
                            class="flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors"
                        >
                            ุฅุถุงูุฉ ุงูุฏูุนุฉ
                        </button>
                        <button
                            type="button"
                            id="cancel-payment-btn"
                            class="flex-1 bg-gray-200 text-gray-800 py-2 rounded-lg hover:bg-gray-300 transition-colors"
                        >
                            ุฅูุบุงุก
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Receipt Modal -->
    <div id="receipt-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white rounded-lg w-full max-w-md receipt-border">
            <div class="p-6">
                <!-- Header -->
                <div class="text-center mb-6">
                    <div class="flex items-center justify-center mb-2">
                        <div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold text-lg ml-2">
                            B
                        </div>
                        <span class="text-xl font-bold">Sakan</span>
                    </div>
                    <p class="text-gray-600 text-sm">ุดุฑูุฉ B Ventures LLC</p>
                    <h1 class="text-lg font-bold mt-2">ุจุฑูุงูุฌ B Sakan ูุฅุฏุงุฑุฉ ูุฅุตูุงุญ ููุตุฑููุงุช ุงูุนูุงุฑุงุช</h1>
                    <p class="text-red-500 font-semibold" id="receipt-building-name">ุนูุงุฑุฉ ุงูุณุงูู 12</p>
                </div>
                
                <!-- Receipt Details -->
                <div class="border-t border-b border-gray-300 py-4 mb-4">
                    <div class="text-center mb-4">
                        <h2 class="text-xl font-bold">ุณูุฏ ูุจุถ</h2>
                    </div>
                    
                    <div class="space-y-2">
                        <div class="flex justify-between">
                            <span class="font-medium">ุฑูู ุงูุณูุฏ:</span>
                            <span id="receipt-number">50</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="font-medium">ุงูุชุงุฑูุฎ:</span>
                            <span id="receipt-date">10-16-2025 ู (1447-04-24 ูู)</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="font-medium">ูุตู ุงูุฏูุนุฉ:</span>
                            <span id="receipt-description">ุชุฃููู ููุนูุงุฑุฉ</span>
                        </div>
                    </div>
                </div>
                
                <!-- Amount Section -->
                <div class="border-2 border-green-500 rounded-lg p-4 mb-6 text-center">
                    <p class="text-gray-600 mb-2">ุงููุจูุบ ุงููุณุชูู</p>
                    <p class="text-green-600 text-3xl font-bold" id="receipt-amount">50 ุฏููุงุฑ ููุจู</p>
                </div>
                
                <!-- Footer -->
                <div class="text-center text-gray-600">
                    <p class="font-medium mb-2">ููุงุญุธุงุช:</p>
                    <p class="mb-4" id="receipt-notes">ูุณุท ุงูุชุงููู ุงูุณููู</p>
                    <div class="flex items-center justify-center">
                        <span>www.bsakan.com</span>
                        <svg class="w-4 h-4 text-green-500 mr-1" fill="currentColor" viewBox="0 0 20 20">
                            <path fillRule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clipRule="evenodd" />
                        </svg>
                    </div>
                </div>
                
                <div class="mt-6 text-center flex space-x-3 space-x-reverse justify-center">
                    <button id="print-receipt-btn" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                        <i class="fas fa-print mr-1"></i> ุทุจุงุนุฉ
                    </button>
                    <button id="share-receipt-btn" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors">
                        <i class="fab fa-whatsapp mr-1"></i> ูุดุงุฑูุฉ ุนุจุฑ ูุงุชุณุงุจ
                    </button>
                    <button id="close-receipt-btn" class="bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors">
                        ุฅุบูุงู
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // DOM Elements
        const addBuildingBtn = document.getElementById('add-building-btn');
        const addOwnerBtn = document.getElementById('add-owner-btn');
        const addPaymentBtn = document.getElementById('add-payment-btn');
        const addBuildingModal = document.getElementById('add-building-modal');
        const addOwnerModal = document.getElementById('add-owner-modal');
        const addPaymentModal = document.getElementById('add-payment-modal');
        const receiptModal = document.getElementById('receipt-modal');
        const cancelBuildingBtn = document.getElementById('cancel-building-btn');
        const cancelOwnerBtn = document.getElementById('cancel-owner-btn');
        const cancelPaymentBtn = document.getElementById('cancel-payment-btn');
        const closeReceiptBtn = document.getElementById('close-receipt-btn');
        const printReceiptBtn = document.getElementById('print-receipt-btn');
        const shareReceiptBtn = document.getElementById('share-receipt-btn');
        
        // Modal open/close functions
        addBuildingBtn.addEventListener('click', () => addBuildingModal.classList.remove('hidden'));
        addOwnerBtn.addEventListener('click', () => addOwnerModal.classList.remove('hidden'));
        addPaymentBtn.addEventListener('click', () => addPaymentModal.classList.remove('hidden'));
        cancelBuildingBtn.addEventListener('click', () => addBuildingModal.classList.add('hidden'));
        cancelOwnerBtn.addEventListener('click', () => addOwnerModal.classList.add('hidden'));
        cancelPaymentBtn.addEventListener('click', () => addPaymentModal.classList.add('hidden'));
        closeReceiptBtn.addEventListener('click', () => receiptModal.classList.add('hidden'));

        // Close modals when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === addBuildingModal) addBuildingModal.classList.add('hidden');
            if (e.target === addOwnerModal) addOwnerModal.classList.add('hidden');
            if (e.target === addPaymentModal) addPaymentModal.classList.add('hidden');
            if (e.target === receiptModal) receiptModal.classList.add('hidden');
        });

        // Form submissions
        document.getElementById('add-building-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const formData = new FormData(e.target);
            const buildingName = formData.get('buildingName');
            document.getElementById('current-building').textContent = buildingName;
            document.getElementById('receipt-building-name').textContent = buildingName;
            addBuildingModal.classList.add('hidden');
            alert(`ุชู ุฅุถุงูุฉ ุงูุนูุงุฑุฉ "${buildingName}" ุจูุฌุงุญ`);
        });

        document.getElementById('add-owner-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const formData = new FormData(e.target);
            const ownerName = formData.get('name');
            addOwnerModal.classList.add('hidden');
            alert(`ุชู ุฅุถุงูุฉ ุงููุงูู "${ownerName}" ุจูุฌุงุญ`);
        });

        document.getElementById('add-payment-form').addEventListener('submit', (e) => {
            e.preventDefault();
            addPaymentModal.classList.add('hidden');
            receiptModal.classList.remove('hidden');
        });

        // Month selection functionality
        document.querySelectorAll('.month-btn').forEach(button => {
            button.addEventListener('click', () => {
                if (button.classList.contains('bg-green-600')) {
                    button.classList.replace('bg-green-600', 'bg-gray-200');
                    button.classList.replace('text-white', 'text-gray-700');
                    button.textContent = button.textContent.replace(' ร', '');
                } else {
                    button.classList.replace('bg-gray-200', 'bg-green-600');
                    button.classList.replace('text-gray-700', 'text-white');
                    button.textContent += ' ร';
                }
            });
        });

        // Print receipt
        printReceiptBtn.addEventListener('click', () => window.print());

        // Share receipt via WhatsApp
        shareReceiptBtn.addEventListener('click', () => {
            const residentName = "ูุญูุฏ ุฃุญูุฏ";
            const unitNumber = "1";
            const buildingName = document.getElementById('receipt-building-name').textContent;
            const paymentDate = document.getElementById('receipt-date').textContent;
            const paymentAmount = document.getElementById('receipt-amount').textContent;
            const paymentDescription = document.getElementById('receipt-description').textContent;
            const paymentNotes = document.getElementById('receipt-notes').textContent;
            const currentDate = new Date().toLocaleDateString('ar-EG');
            
            const message = `๐ข *ุจุฑูุงูุฌ B Sakan ูุฅุฏุงุฑุฉ ูุตุฑููุงุช ุงูุนูุงุฑุงุช*
ุดุฑูุฉ B Ventures LLC
๐ *ุชูุงุตูู ุงูุฏูุนุฉ*
โโโโโโโโโโโโโโโโ
๐ค ุงุณู ุงููุณุชููุฏ: ${residentName}
๐ ุฑูู ุงููุญุฏุฉ: ${unitNumber}
๐ฌ ุงูุนูุงุฑุฉ: ${buildingName}
๐ ุชุงุฑูุฎ ุงูุฏูุน: ${paymentDate}
๐ต ุงููุจูุบ: ${paymentAmount}
๐๏ธ ูุตู ุงูุฏูุนุฉ: ${paymentDescription}
๐ ููุงุญุธุงุช: ${paymentNotes}
โ ุชู ุงุณุชูุงู ุงููุจูุบ ุจูุฌุงุญ ${currentDate}
๐ค๐ป ุดูุฑุงู ูู ูุงูุชุฒุงูู`;
            
            window.open(`https://wa.me/?text=${encodeURIComponent(message)}`, '_blank');
        });

        // Share transaction via WhatsApp buttons
        document.querySelectorAll('.share-btn').forEach(button => {
            button.addEventListener('click', () => {
                const transactionId = button.getAttribute('data-id');
                const transaction = getTransactionData(transactionId);
                
                const message = `๐ข *ุจุฑูุงูุฌ B Sakan ูุฅุฏุงุฑุฉ ูุตุฑููุงุช ุงูุนูุงุฑุงุช*
ุดุฑูุฉ B Ventures LLC
๐ *ุชูุงุตูู ุงูุฏูุนุฉ*
โโโโโโโโโโโโโโโโ
๐ค ุงุณู ุงููุณุชููุฏ: ${transaction.residentName}
๐ ุฑูู ุงููุญุฏุฉ: ${transaction.unitNumber}
๐ฌ ุงูุนูุงุฑุฉ: ${transaction.buildingName}
๐ ุชุงุฑูุฎ ุงูุฏูุน: ${transaction.paymentDate}
๐ต ุงููุจูุบ: ${transaction.paymentAmount}
๐๏ธ ูุตู ุงูุฏูุนุฉ: ${transaction.paymentDescription}
๐ ููุงุญุธุงุช: ${transaction.paymentNotes}
โ ุชู ุงุณุชูุงู ุงููุจูุบ ุจูุฌุงุญ ${transaction.currentDate}
๐ค๐ป ุดูุฑุงู ูู ูุงูุชุฒุงูู`;
                
                window.open(`https://wa.me/?text=${encodeURIComponent(message)}`, '_blank');
            });
        });

        // Mock transaction data
        function getTransactionData(id) {
            const transactions = {
                '1': { residentName: 'ูุญูุฏ ุฃุญูุฏ', unitNumber: '1', buildingName: 'ุนูุงุฑุฉ ุงูุณุงูู 12', paymentDate: '2025-10-16', paymentAmount: '19 ุฏ.ู', paymentDescription: 'ุงุดุชุฑุงู ุดูุฉ ุฑูู 1', paymentNotes: 'ุฏูุนุฉ ุดูุฑ ุฃูุชูุจุฑ', currentDate: new Date().toLocaleDateString('ar-EG') },
                '2': { residentName: 'ูุงุทูุฉ ูุญูุฏ', unitNumber: '2', buildingName: 'ุนูุงุฑุฉ ุงูุณุงูู 12', paymentDate: '2025-10-15', paymentAmount: '12 ุฏ.ู', paymentDescription: 'ุงุดุชุฑุงู ุดูุฉ ุฑูู 2', paymentNotes: 'ุฏูุนุฉ ุดูุฑ ุฃูุชูุจุฑ', currentDate: new Date().toLocaleDateString('ar-EG') },
                '3': { residentName: 'ุฃุญูุฏ ุนูู', unitNumber: '3', buildingName: 'ุนูุงุฑุฉ ุงูุณุงูู 12', paymentDate: '2025-10-14', paymentAmount: '15 ุฏ.ู', paymentDescription: 'ุงุดุชุฑุงู ุดูุฉ ุฑูู 3', paymentNotes: 'ุฏูุนุฉ ุดูุฑ ุฃูุชูุจุฑ', currentDate: new Date().toLocaleDateString('ar-EG') },
                '4': { residentName: 'ุณุงุฑุฉ ุฎุงูุฏ', unitNumber: '4', buildingName: 'ุนูุงุฑุฉ ุงูุณุงูู 12', paymentDate: '2025-10-13', paymentAmount: '22 ุฏ.ู', paymentDescription: 'ุงุดุชุฑุงู ุดูุฉ ุฑูู 4', paymentNotes: 'ุฏูุนุฉ ุดูุฑ ุฃูุชูุจุฑ', currentDate: new Date().toLocaleDateString('ar-EG') }
            };
            return transactions[id] || transactions['1'];
        }

        // Set current date in receipt
        const now = new Date();
        document.getElementById('receipt-date').textContent = now.toLocaleDateString('ar-EG') + ' ู';

        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/bsakan-app/sw.js')
                    .then(registration => console.log('SW registered'))
                    .catch(err => console.log('SW registration failed'));
            });
        }
    </script>
</body>
</html>